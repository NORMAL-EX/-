name: Green Machine ğŸŒ¿

on:
  schedule:
    # æ¯å°æ—¶è¿è¡Œä¸€æ¬¡ï¼Œä¸€å¤©24æ¬¡
    - cron: '0 * * * *'
  workflow_dispatch:  # æ‰‹åŠ¨è§¦å‘

permissions:
  contents: write

jobs:
  green:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: ç§è‰ ğŸŒ±
        run: |
          git config user.email "${{ github.actor }}@users.noreply.github.com"
          git config user.name "${{ github.actor }}"
          git remote set-url origin https://x-access-token:${{ secrets.GITHUB_TOKEN }}@github.com/${{ github.repository }}
          git pull --rebase
          
          # æ¯æ¬¡è¿è¡Œéšæœºæäº¤1-5æ¬¡ï¼Œå¢åŠ éšæœºæ€§
          for i in $(seq 1 $((RANDOM % 5 + 1))); do
            git commit --allow-empty -m "ğŸŒ¿ $(date -u +'%Y-%m-%d %H:%M:%S UTC')"
          done
          
          git push
